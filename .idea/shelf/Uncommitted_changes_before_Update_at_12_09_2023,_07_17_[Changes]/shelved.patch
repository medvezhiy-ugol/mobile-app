Index: lib/ui/pages/map/map_page.dart
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:geolocator/geolocator.dart';\nimport 'package:medvezhiy_ugol/ui/map/sliding_panel_widget/full_view_restaurant_widget.dart';\nimport 'package:medvezhiy_ugol/ui/map/sliding_panel_widget/view_restaurant_widget.dart';\nimport 'package:sliding_up_panel/sliding_up_panel.dart';\nimport 'package:yandex_mapkit/yandex_mapkit.dart';\nimport '../../../pages/custom_navbar/bloc/custom_navbar_cubit.dart';\nimport '../../../utils/app_colors.dart';\nimport '../../primary_button.dart';\nimport '../../widgets/buttons/custom_button.dart';\nimport '../../widgets/map/restaurant_info.dart';\n\nclass MapPage extends StatefulWidget {\n  MapPage({super.key, required this.isOrder, required this.isDelivery});\n\n  final bool isOrder;\n  final bool isDelivery;\n\n  @override\n  State<MapPage> createState() => _MapPageState();\n}\n\nclass _MapPageState extends State<MapPage> with TickerProviderStateMixin {\n\n  late final YandexMapController _mapController;\n  double lat = 57.625636;\n  double lon = 39.879540;\n  double latEnd = 0;\n  double lonEnd = 0;\n  bool isLoading = true;\n  bool isDeliver = true;\n  bool isAddress = false;\n  String adress = '';\n  static final PageController pageController = PageController(initialPage: 0);\n  static final PanelController panelController = PanelController();\n\n  Future<Position> _determinePosition() async {\n\n    bool serviceEnabled;\n    LocationPermission permission;\n\n    serviceEnabled = await Geolocator.isLocationServiceEnabled();\n    if (!serviceEnabled) {\n      return Future.error('Location services are disabled.');\n    }\n    permission = await Geolocator.checkPermission();\n    if (permission == LocationPermission.denied) {\n      permission = await Geolocator.requestPermission();\n      if (permission == LocationPermission.denied) {\n        return Future.error('Location permissions are denied');\n      }\n    }\n    if (permission == LocationPermission.deniedForever) {\n      return Future.error(\n          'Location permissions are permanently denied, we cannot request permissions.');\n    }\n    return await Geolocator.getCurrentPosition();\n  }\n\n  bool _isDraged = false;\n  bool isFadeAnimated = false;\n  bool isCenter = false;\n\n  void getPosition() async {\n    Position position = await _determinePosition();\n    lat = position.latitude;\n    lon = position.longitude;\n    _mapController.moveCamera(\n      CameraUpdate.newCameraPosition(CameraPosition(\n        target: Point(\n          latitude: position.latitude,\n          longitude: position.longitude,\n        ),\n        zoom: 14.4746,\n      ),\n      ),\n    );\n    setState(() {\n      isLoading = false;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final _minSlidingPanelHeight = MediaQuery.of(context).size.height * 0.4;\n    final _maxSlidingPanelHeight = MediaQuery.of(context).size.height * 0.7;\n\n    return Scaffold(\n      body: Stack(\n        alignment: Alignment.topCenter,\n        children: <Widget>[\n          SizedBox(\n              height: MediaQuery.of(context).size.height,\n              child: YandexMap(\n                  mapObjects: [\n                    PlacemarkMapObject(\n                      mapId: const MapObjectId('org_0'),\n                      point: Point(latitude: lat, longitude: lon),\n                      opacity: 1,\n                      isDraggable: false,\n                      icon: PlacemarkIcon.single(\n                        PlacemarkIconStyle(\n                          scale: 0.7,\n                          image: BitmapDescriptor.fromAssetImage('assets/images/map_page/point.png'),\n                          rotationType: RotationType.noRotation,\n                          anchor: const Offset(0.5, 1),\n                        ),\n                      ),\n                    ),\n                    if (!isDeliver)\n                      PlacemarkMapObject(\n                        mapId: const MapObjectId('org_1'),\n                        point: const Point(latitude: 57.693521, longitude: 39.772742),\n                        opacity: 1,\n                        isDraggable: false,\n                        icon: PlacemarkIcon.single(\n                          PlacemarkIconStyle(\n                            scale: 0.7,\n                            image: BitmapDescriptor.fromAssetImage('assets/images/map_page/point.png'),\n                            rotationType: RotationType.noRotation,\n                            anchor: const Offset(0.5, 1),\n                          ),\n                        ),\n                      ),\n                  ],\n                  nightModeEnabled: true,\n                  onMapCreated: (YandexMapController controller) {\n                    _mapController = controller;\n                    _mapController.moveCamera(\n                      CameraUpdate.newCameraPosition(CameraPosition(\n                        target: Point(\n                          latitude: lat,\n                          longitude: lon,\n                        ),\n                        zoom: 14.4746,\n                      ),\n                      ),\n                    );\n                  },\n\n                  onCameraPositionChanged: (CameraPosition position, CameraUpdateReason reason, bool value) async {\n                    if (isDeliver) {\n                      lat = position.target.latitude;\n                      lon = position.target.longitude;\n                      final searchResult = YandexSearch.searchByPoint(\n                        point: position.target,\n                        zoom: 15,\n                        searchOptions: const SearchOptions(\n                          searchType: SearchType.geo,\n                          geometry: false,\n                        ),\n                      );\n                      final result = await searchResult.result;\n                      adress = result.items!.first.name;\n                      setState(() {\n                      });\n                    }\n                  }\n              )\n          ),\n          SafeArea(\n            child: Column(\n              children: [\n                const SizedBox(height: 30),\n                Container(\n                    height: 38,\n                    width: 240,\n                    padding: const EdgeInsets.all(4),\n                    decoration: BoxDecoration(\n                        color: const Color(0xff000000),\n                        borderRadius: BorderRadius.circular(30)\n                    ),\n                    child: Stack(\n                        fit: StackFit.expand,\n                        children: [\n                          AnimatedPositioned(\n                            left: isDeliver ? 0 : 118,\n                            duration: const Duration(milliseconds: 100),\n                            child: Container(\n                              height: 30,\n                              width: 114,\n                              decoration: BoxDecoration(\n                                  color: const Color(0xff2D2D2D),\n                                  borderRadius: BorderRadius.circular(30)\n                              ),\n                            ),\n                          ),\n                          Row(\n                            children: [\n                              GestureDetector(onTap: () {\n                                pageController.animateToPage(\n                                  0,\n                                  duration: const Duration(milliseconds: 300),\n                                  curve: Curves.linear,\n                                );\n                                getPosition();\n                                isDeliver = true;\n                                setState(() {\n\n                                });\n                              },\n                                child: Container(\n                                  width: 114,\n                                  height: 30,\n                                  color: Colors.transparent,\n                                  alignment: Alignment.center,\n                                  child: const Text(\n                                    'Доставка',\n                                    style: TextStyle(\n                                      fontFamily: 'Unbounded',\n                                      fontWeight: FontWeight.w600,\n                                      fontSize: 12,\n                                      color: Color(0xffFFFFFF),\n                                    ),\n                                  ),\n                                ),\n                              ),\n\n                              const SizedBox(width: 4),\n                              GestureDetector(onTap: () {\n                                isDeliver  = false;\n                                lat = 57.625636;\n                                lon = 39.879540;\n                                _mapController.moveCamera(\n                                  CameraUpdate.newCameraPosition(CameraPosition(\n                                    target: Point(\n                                      latitude: 57.625636,\n                                      longitude: 39.879540,\n                                    ),\n                                    zoom: 14.4746,\n                                  ),\n                                  ),\n                                );\n                                pageController.nextPage(\n                                  duration: const Duration(milliseconds: 200),\n                                  curve: Curves.bounceIn,\n                                );\n                                setState(() {\n\n                                });\n                              },\n                                child: Container(\n                                  width: 114,\n                                  height: 30,\n                                  color: Colors.transparent,\n                                  alignment: Alignment.center,\n                                  child: const Text(\n                                    'Самовывоз',\n                                    style: TextStyle(\n                                      fontFamily: 'Unbounded',\n                                      fontWeight: FontWeight.w600,\n                                      fontSize: 12,\n                                      color: Color(0xffFFFFFF),\n                                    ),\n                                  ),\n                                ),\n                              ),\n                            ],\n                          ),\n                        ]\n                    ),\n                  ),\n                const SizedBox(height: 34),\n                Text(\n                  adress,\n                  style: const TextStyle(\n                      fontWeight: FontWeight.w400,\n                      fontSize: 24,\n                      color: Color(0xffEFEFEF),\n                      fontFamily: 'Unbounded'\n                  ),\n                ),\n                const SizedBox(height: 16),\n                GestureDetector(\n                  child: Container(\n                    padding: const EdgeInsets.symmetric(\n                      vertical: 5,\n                      horizontal: 24,\n                    ),\n                    decoration: BoxDecoration(\n                        borderRadius: BorderRadius.circular(30)\n                    ),\n                    child: const Text(\n                      'Изменить адрес доставки',\n                      style: TextStyle(\n                        fontWeight: FontWeight.w400,\n                        fontSize: 12,\n                        color: AppColors.color26282F,\n                        fontStyle: FontStyle.normal,\n                      ),\n                    ),\n                  ),\n                ),\n                Spacer(),\n                const CustomButton(text: 'Готово'),\n                const SizedBox(height: 8),\n              ],\n            ),\n          ),\n          SlidingUpPanel(\n            onPanelSlide: (double point) {\n              isFadeAnimated = false;\n              _isDraged = false;\n              if ((pageController.page == 2.0) &&\n                  (!_isDraged == true) &&\n                  (point > 0.0)) {\n                setState(() {\n                  isFadeAnimated = true;\n                });\n                _isDraged = true;\n              }\n              if ((pageController.page == 2.0) &&\n                  (_isDraged == true) &&\n                  (point < 0.3)) {\n                setState(() {\n                  isFadeAnimated = false;\n                });\n              }\n            },\n            defaultPanelState: PanelState.CLOSED,\n            minHeight: _minSlidingPanelHeight,\n            maxHeight: _maxSlidingPanelHeight,\n            controller: panelController,\n            color: AppColors.color111216,\n            panelBuilder: (sc) {\n              return Theme(\n                data: Theme.of(context).copyWith(\n                  colorScheme: ColorScheme.fromSwatch(\n                    accentColor: AppColors.color191A1F,\n                  ),\n                ),\n                child: Column(\n                  children: [\n                    const SizedBox(\n                      height: 12,\n                    ),\n                    Row(\n                      mainAxisAlignment: MainAxisAlignment.center,\n                      children: <Widget>[\n                        Container(\n                          width: 48,\n                          height: 4,\n                          decoration: BoxDecoration(\n                            color: AppColors.colorD9D9D9,\n                            borderRadius: BorderRadius.circular(9),\n                          ),\n                        ),\n                      ],\n                    ),\n                    Expanded(\n                      child: PageView(\n                        physics: const NeverScrollableScrollPhysics(),\n                        controller: pageController,\n                        children: <Widget>[\n                          Padding(\n                            padding: const EdgeInsets.symmetric(horizontal: 10),\n                            child: Column(\n                              children: [\n                                const SizedBox(height: 12),\n                                Container(\n                                  padding: const EdgeInsets.symmetric(horizontal: 10),\n                                  height: 50,\n                                  color: AppColors.color191A1F,\n                                  child: const TextField(\n                                    cursorColor: AppColors.colorFFB627,\n                                    style: TextStyle(\n                                        fontSize: 14,\n                                        fontWeight: FontWeight.w600,\n                                        color: Colors.white\n                                    ),\n                                    decoration: InputDecoration(\n                                      prefixIcon: Icon(\n                                        Icons.search,\n                                        color: AppColors.color808080,\n                                        size: 30,\n                                      ),\n                                      filled: true,\n                                      fillColor: AppColors.color191A1F,\n                                      hintText: 'Название улицы или ресторана',\n                                      hintStyle: TextStyle(\n                                          fontSize: 14,\n                                          fontWeight: FontWeight.w600,\n                                          color: AppColors.color808080),\n                                      contentPadding: EdgeInsets.symmetric(\n                                        horizontal: 39,\n                                        vertical: 20,\n                                      ),\n                                      enabledBorder: OutlineInputBorder(\n                                        borderSide: BorderSide(color: Colors.transparent),\n                                      ),\n                                      focusedBorder: OutlineInputBorder(\n                                        borderSide: BorderSide(color: Colors.transparent),\n                                      ),\n                                    ),\n                                  ),\n                                ),\n                                const SizedBox(height: 24),\n                                BlocBuilder<CustomNavbarCubit, CustomNavbarState>(\n                                  builder: (context, state) {\n                                    return state.myAddress.isEmpty\n                                        ? Container()\n                                        : Text(\n                                      'Ваш адрес: ${state.myAddress}',\n                                      style: const TextStyle(\n                                          color: Colors.white\n                                      ),\n                                    );\n                                  },\n                                ),\n                                const SizedBox(height: 24),\n                                PrimaryButton(\n                                  onTap: () {\n                                    panelController.open();\n                                    //context.read<CustomNavbarCubit>().deliverHere(adress);\n                                  },\n                                  color: AppColors.colorFFB627,\n                                  child: const Text(\n                                    'Доставить сюда',\n                                    style: TextStyle(\n                                        fontSize: 16,\n                                        fontWeight: FontWeight.w600,\n                                        color: Colors.black),\n                                  ),\n                                ),\n                              ],\n                            ),\n                          ),\n                          Padding(\n                            padding: const EdgeInsets.symmetric(horizontal: 10),\n                            child: Column(\n                              children: [\n                                const SizedBox(height: 12),\n                                Container(\n                                  padding: const EdgeInsets.symmetric(horizontal: 10),\n                                  height: 50,\n                                  color: AppColors.color191A1F,\n                                  child: const TextField(\n                                    cursorColor: AppColors.colorFFB627,\n                                    style: TextStyle(\n                                        fontSize: 14,\n                                        fontWeight: FontWeight.w600,\n                                        color: Colors.white\n                                    ),\n                                    decoration: InputDecoration(\n                                      prefixIcon: Icon(\n                                        Icons.search,\n                                        color: AppColors.color808080,\n                                        size: 30,\n                                      ),\n                                      filled: true,\n                                      fillColor: AppColors.color191A1F,\n                                      hintText: 'Название улицы или ресторана',\n                                      hintStyle: TextStyle(\n                                          fontSize: 14,\n                                          fontWeight: FontWeight.w600,\n                                          color: AppColors.color808080),\n                                      contentPadding: EdgeInsets.symmetric(\n                                        horizontal: 39,\n                                        vertical: 20,\n                                      ),\n                                      enabledBorder: OutlineInputBorder(\n                                        borderSide: BorderSide(color: Colors.transparent),\n                                      ),\n                                      focusedBorder: OutlineInputBorder(\n                                        borderSide: BorderSide(color: Colors.transparent),\n                                      ),\n                                    ),\n                                  ),\n                                ),\n                                const SizedBox(height: 24),\n                                BlocBuilder<CustomNavbarCubit, CustomNavbarState>(\n                                  builder: (context, state) {\n                                    return state.myAddress.isEmpty\n                                        ? Container()\n                                        : Text(\n                                      'Ваш адрес: ${state.myAddress}',\n                                      style: const TextStyle(\n                                          color: Colors.white\n                                      ),\n                                    );\n                                  },\n                                ),\n                                const SizedBox(height: 24),\n                                PrimaryButton(\n                                  onTap: () {\n                                    context.read<CustomNavbarCubit>().deliverHere(adress);\n                                  },\n                                  color: AppColors.colorFFB627,\n                                  child: const Text(\n                                    'Доставить сюда',\n                                    style: TextStyle(\n                                        fontSize: 16,\n                                        fontWeight: FontWeight.w600,\n                                        color: Colors.black),\n                                  ),\n                                ),\n                              ],\n                            ),\n                          ),\n                          MediaQuery.removePadding(\n                            context: context,\n                            removeTop: true,\n                            child: Padding(\n                              padding: const EdgeInsets.symmetric(\n                                horizontal: 10,\n                              ),\n                              child: Theme(\n                                data: Theme.of(context).copyWith(\n                                  colorScheme: ColorScheme.fromSwatch(\n                                    accentColor: AppColors.color191A1F,\n                                  ),\n                                ),\n                                child: ListView(\n                                  physics: ClampingScrollPhysics(),\n                                  children: <Widget>[\n                                    const SizedBox(height: 12),\n                                    RestaurantInfo(\n                                      openInfo: DateTime.now().hour > 22 || DateTime.now().hour < 10 ? 'Откроется в 10:00' : 'Открыто до 22:00',\n                                      color: DateTime.now().hour > 22 || DateTime.now().hour < 10\n                                          ? Color(0xffFF3838)\n                                          : Color(0xff32CD43),\n                                      distance: '1,3 км',\n                                      adress: 'Улица Свободы, 16',\n                                      index: 0,\n                                      onTap: () async {\n                                        if (panelController.isAttached) {\n                                          panelController.animatePanelToPosition(\n                                            0,\n                                            duration: const Duration(milliseconds: 300),\n                                          );\n                                          await _mapController.moveCamera(\n                                            CameraUpdate.newCameraPosition(\n                                              CameraPosition(target: Point(latitude: 57.625636, longitude: 39.879540), zoom: 15),\n                                            ),\n                                            animation: MapAnimation(\n                                              type: MapAnimationType.smooth,\n                                              duration: 0.5,\n                                            ),\n                                          );\n                                        }\n                                        latEnd = 57.625636;\n                                        lonEnd = 39.879540;\n                                        isCenter = true;\n                                        pageController.animateToPage(\n                                          2,\n                                          duration: const Duration(milliseconds: 200),\n                                          curve: Curves.bounceIn,\n                                        );\n                                        setState(() {\n\n                                        });\n                                      },\n                                    ),\n                                    RestaurantInfo(\n                                      openInfo: DateTime.now().hour > 23 || DateTime.now().hour < 11 ? 'Откроется в 11:00' : 'Открыто до 23:00',\n                                      color: DateTime.now().hour > 23 || DateTime.now().hour < 11\n                                          ? Color(0xffFF3838)\n                                          : Color(0xff32CD43),\n                                      distance: '1,3 км',\n                                      adress: 'Ленинградский просп., 62',\n                                      index: 1,\n                                      onTap: () async {\n                                        if (panelController.isAttached) {\n                                          panelController.animatePanelToPosition(\n                                            0,\n                                            duration: const Duration(milliseconds: 300),\n                                          );\n                                        }\n                                        await _mapController.moveCamera(\n                                          CameraUpdate.newCameraPosition(\n                                            CameraPosition(target: Point(\n                                              latitude: 57.693521,\n                                              longitude: 39.772742,\n                                            ), zoom: 15),\n                                          ),\n                                          animation: MapAnimation(\n                                            type: MapAnimationType.smooth,\n                                            duration: 0.5,\n                                          ),\n                                        );\n                                        latEnd = 57.693521;\n                                        lonEnd = 39.772742;\n                                        pageController.animateToPage(\n                                          2,\n                                          duration: const Duration(milliseconds: 300),\n                                          curve: Curves.linear,\n                                        );\n                                        isCenter = false;\n                                      },\n                                    ),\n                                  ],\n                                ),\n                              ),\n                            ),\n                          ),\n                          AnimatedSwitcher(\n                            duration: const Duration(milliseconds: 200),\n                            switchInCurve: Curves.easeInOut,\n                            switchOutCurve: Curves.easeInOut,\n                            transitionBuilder:\n                                (Widget child, Animation<double> animation) {\n                              return FadeTransition(\n                                opacity: animation,\n                                child: child,\n                              );\n                            },\n                            child: !isFadeAnimated\n                                ? ViewRestaurantWidget(\n                              pageController: pageController,\n                              isCenter: isCenter,\n                            )\n                                : FullViewRestaurantWidget(\n                              latEnd: latEnd,\n                              lonEnd: lonEnd,\n                              isCenter: isCenter,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ],\n                ),\n              );\n            },\n          ),\n        ],\n      ),\n    );\n  }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/lib/ui/pages/map/map_page.dart b/lib/ui/pages/map/map_page.dart
--- a/lib/ui/pages/map/map_page.dart	(revision 72eaf9786befafe50d9ec7d7922bccc3321b7861)
+++ b/lib/ui/pages/map/map_page.dart	(date 1694492231359)
@@ -3,6 +3,7 @@
 import 'package:geolocator/geolocator.dart';
 import 'package:medvezhiy_ugol/ui/map/sliding_panel_widget/full_view_restaurant_widget.dart';
 import 'package:medvezhiy_ugol/ui/map/sliding_panel_widget/view_restaurant_widget.dart';
+import 'package:medvezhiy_ugol/ui/pages/map/search_page.dart';
 import 'package:sliding_up_panel/sliding_up_panel.dart';
 import 'package:yandex_mapkit/yandex_mapkit.dart';
 import '../../../pages/custom_navbar/bloc/custom_navbar_cubit.dart';
@@ -83,7 +84,7 @@
 
   @override
   Widget build(BuildContext context) {
-    final _minSlidingPanelHeight = MediaQuery.of(context).size.height * 0.4;
+    final _minSlidingPanelHeight = 0.0;
     final _maxSlidingPanelHeight = MediaQuery.of(context).size.height * 0.7;
 
     return Scaffold(
@@ -223,7 +224,7 @@
                                 lat = 57.625636;
                                 lon = 39.879540;
                                 _mapController.moveCamera(
-                                  CameraUpdate.newCameraPosition(CameraPosition(
+                                  CameraUpdate.newCameraPosition(const CameraPosition(
                                     target: Point(
                                       latitude: 57.625636,
                                       longitude: 39.879540,
@@ -258,7 +259,7 @@
                               ),
                             ],
                           ),
-                        ]
+                        ],
                     ),
                   ),
                 const SizedBox(height: 34),
@@ -273,12 +274,16 @@
                 ),
                 const SizedBox(height: 16),
                 GestureDetector(
+                  onTap: () {
+                    //Navigator.of(context).push(MaterialPageRoute(builder: (context) => const SearchPage()));
+                  },
                   child: Container(
                     padding: const EdgeInsets.symmetric(
                       vertical: 5,
                       horizontal: 24,
                     ),
                     decoration: BoxDecoration(
+                      color: AppColors.colorEFEFEF,
                         borderRadius: BorderRadius.circular(30)
                     ),
                     child: const Text(
@@ -353,149 +358,100 @@
                         physics: const NeverScrollableScrollPhysics(),
                         controller: pageController,
                         children: <Widget>[
-                          Padding(
-                            padding: const EdgeInsets.symmetric(horizontal: 10),
-                            child: Column(
-                              children: [
-                                const SizedBox(height: 12),
-                                Container(
-                                  padding: const EdgeInsets.symmetric(horizontal: 10),
-                                  height: 50,
-                                  color: AppColors.color191A1F,
-                                  child: const TextField(
-                                    cursorColor: AppColors.colorFFB627,
-                                    style: TextStyle(
-                                        fontSize: 14,
-                                        fontWeight: FontWeight.w600,
-                                        color: Colors.white
-                                    ),
-                                    decoration: InputDecoration(
-                                      prefixIcon: Icon(
-                                        Icons.search,
-                                        color: AppColors.color808080,
-                                        size: 30,
-                                      ),
-                                      filled: true,
-                                      fillColor: AppColors.color191A1F,
-                                      hintText: 'Название улицы или ресторана',
-                                      hintStyle: TextStyle(
-                                          fontSize: 14,
-                                          fontWeight: FontWeight.w600,
-                                          color: AppColors.color808080),
-                                      contentPadding: EdgeInsets.symmetric(
-                                        horizontal: 39,
-                                        vertical: 20,
-                                      ),
-                                      enabledBorder: OutlineInputBorder(
-                                        borderSide: BorderSide(color: Colors.transparent),
-                                      ),
-                                      focusedBorder: OutlineInputBorder(
-                                        borderSide: BorderSide(color: Colors.transparent),
-                                      ),
-                                    ),
-                                  ),
-                                ),
-                                const SizedBox(height: 24),
-                                BlocBuilder<CustomNavbarCubit, CustomNavbarState>(
-                                  builder: (context, state) {
-                                    return state.myAddress.isEmpty
-                                        ? Container()
-                                        : Text(
-                                      'Ваш адрес: ${state.myAddress}',
-                                      style: const TextStyle(
-                                          color: Colors.white
-                                      ),
-                                    );
-                                  },
-                                ),
-                                const SizedBox(height: 24),
-                                PrimaryButton(
-                                  onTap: () {
-                                    panelController.open();
-                                    //context.read<CustomNavbarCubit>().deliverHere(adress);
-                                  },
-                                  color: AppColors.colorFFB627,
-                                  child: const Text(
-                                    'Доставить сюда',
-                                    style: TextStyle(
-                                        fontSize: 16,
-                                        fontWeight: FontWeight.w600,
-                                        color: Colors.black),
-                                  ),
-                                ),
-                              ],
-                            ),
-                          ),
-                          Padding(
-                            padding: const EdgeInsets.symmetric(horizontal: 10),
-                            child: Column(
-                              children: [
-                                const SizedBox(height: 12),
-                                Container(
-                                  padding: const EdgeInsets.symmetric(horizontal: 10),
-                                  height: 50,
-                                  color: AppColors.color191A1F,
-                                  child: const TextField(
-                                    cursorColor: AppColors.colorFFB627,
-                                    style: TextStyle(
-                                        fontSize: 14,
-                                        fontWeight: FontWeight.w600,
-                                        color: Colors.white
-                                    ),
-                                    decoration: InputDecoration(
-                                      prefixIcon: Icon(
-                                        Icons.search,
-                                        color: AppColors.color808080,
-                                        size: 30,
-                                      ),
-                                      filled: true,
-                                      fillColor: AppColors.color191A1F,
-                                      hintText: 'Название улицы или ресторана',
-                                      hintStyle: TextStyle(
-                                          fontSize: 14,
-                                          fontWeight: FontWeight.w600,
-                                          color: AppColors.color808080),
-                                      contentPadding: EdgeInsets.symmetric(
-                                        horizontal: 39,
-                                        vertical: 20,
-                                      ),
-                                      enabledBorder: OutlineInputBorder(
-                                        borderSide: BorderSide(color: Colors.transparent),
-                                      ),
-                                      focusedBorder: OutlineInputBorder(
-                                        borderSide: BorderSide(color: Colors.transparent),
-                                      ),
-                                    ),
-                                  ),
-                                ),
-                                const SizedBox(height: 24),
-                                BlocBuilder<CustomNavbarCubit, CustomNavbarState>(
-                                  builder: (context, state) {
-                                    return state.myAddress.isEmpty
-                                        ? Container()
-                                        : Text(
-                                      'Ваш адрес: ${state.myAddress}',
-                                      style: const TextStyle(
-                                          color: Colors.white
-                                      ),
-                                    );
-                                  },
-                                ),
-                                const SizedBox(height: 24),
-                                PrimaryButton(
-                                  onTap: () {
-                                    context.read<CustomNavbarCubit>().deliverHere(adress);
-                                  },
-                                  color: AppColors.colorFFB627,
-                                  child: const Text(
-                                    'Доставить сюда',
-                                    style: TextStyle(
-                                        fontSize: 16,
-                                        fontWeight: FontWeight.w600,
-                                        color: Colors.black),
-                                  ),
-                                ),
-                              ],
+                          MediaQuery.removePadding(
+                            context: context,
+                            removeTop: true,
+                            child: Padding(
+                              padding: const EdgeInsets.symmetric(
+                                horizontal: 10,
+                              ),
+                              child: Theme(
+                                data: Theme.of(context).copyWith(
+                                  colorScheme: ColorScheme.fromSwatch(
+                                    accentColor: AppColors.color191A1F,
+                                  ),
+                                ),
+                                child: ListView(
+                                  physics: ClampingScrollPhysics(),
+                                  children: <Widget>[
+                                    const SizedBox(height: 12),
+                                    RestaurantInfo(
+                                      openInfo: DateTime.now().hour > 22 || DateTime.now().hour < 10 ? 'Откроется в 10:00' : 'Открыто до 22:00',
+                                      color: DateTime.now().hour > 22 || DateTime.now().hour < 10
+                                          ? Color(0xffFF3838)
+                                          : Color(0xff32CD43),
+                                      distance: '1,3 км',
+                                      adress: 'Улица Свободы, 16',
+                                      index: 0,
+                                      onTap: () async {
+                                        if (panelController.isAttached) {
+                                          panelController.animatePanelToPosition(
+                                            0,
+                                            duration: const Duration(milliseconds: 300),
+                                          );
+                                          await _mapController.moveCamera(
+                                            CameraUpdate.newCameraPosition(
+                                              CameraPosition(target: Point(latitude: 57.625636, longitude: 39.879540), zoom: 15),
+                                            ),
+                                            animation: MapAnimation(
+                                              type: MapAnimationType.smooth,
+                                              duration: 0.5,
+                                            ),
+                                          );
+                                        }
+                                        latEnd = 57.625636;
+                                        lonEnd = 39.879540;
+                                        isCenter = true;
+                                        pageController.animateToPage(
+                                          2,
+                                          duration: const Duration(milliseconds: 200),
+                                          curve: Curves.bounceIn,
+                                        );
+                                        setState(() {
+
+                                        });
+                                      },
+                                    ),
+                                    RestaurantInfo(
+                                      openInfo: DateTime.now().hour > 23 || DateTime.now().hour < 11 ? 'Откроется в 11:00' : 'Открыто до 23:00',
+                                      color: DateTime.now().hour > 23 || DateTime.now().hour < 11
+                                          ? Color(0xffFF3838)
+                                          : Color(0xff32CD43),
+                                      distance: '1,3 км',
+                                      adress: 'Ленинградский просп., 62',
+                                      index: 1,
+                                      onTap: () async {
+                                        if (panelController.isAttached) {
+                                          panelController.animatePanelToPosition(
+                                            0,
+                                            duration: const Duration(milliseconds: 300),
+                                          );
+                                        }
+                                        await _mapController.moveCamera(
+                                          CameraUpdate.newCameraPosition(
+                                            CameraPosition(target: Point(
+                                              latitude: 57.693521,
+                                              longitude: 39.772742,
+                                            ), zoom: 15),
+                                          ),
+                                          animation: MapAnimation(
+                                            type: MapAnimationType.smooth,
+                                            duration: 0.5,
+                                          ),
+                                        );
+                                        latEnd = 57.693521;
+                                        lonEnd = 39.772742;
+                                        pageController.animateToPage(
+                                          2,
+                                          duration: const Duration(milliseconds: 300),
+                                          curve: Curves.linear,
+                                        );
+                                        isCenter = false;
+                                      },
+                                    ),
+                                  ],
+                                ),
+                              ),
                             ),
                           ),
                           MediaQuery.removePadding(
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AndroidLayouts\">\n    <shared>\n      <config />\n    </shared>\n  </component>\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"NONE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"97ab48ef-6c5e-4c65-86a9-9c8a0f8cfe9a\" name=\"Changes\" comment=\"fix menu page\">\n      <change afterPath=\"$PROJECT_DIR$/lib/ui/widgets/menu/my_address.dart\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/lib/ui/widgets/product_page/additional_product.dart\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/lib/ui/widgets/product_page/additional_products.dart\" afterDir=\"false\" />\n      <change afterPath=\"$PROJECT_DIR$/lib/ui/widgets/product_page/product_size.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Dart_Packages.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Dart_Packages.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Flutter_Plugins.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Flutter_Plugins.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/pages/custom_navbar/bloc/custom_navbar_cubit.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/pages/custom_navbar/bloc/custom_navbar_cubit.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/pages/menu/menu_page/bloc/menu_bloc.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/pages/menu/menu_page/bloc/menu_bloc.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/services/api_service.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/services/api_service.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/services/menu_service.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/services/menu_service.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/menu/menu_card_widget.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/widgets/menu/menu_card_widget.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/menu/menu_sections_widget.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/widgets/menu/menu_sections_widget.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/menu/scale_tabbar_module.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/widgets/menu/scale_tabbar_module.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/pages/delivery_page.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/pages/delivery_page.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/pages/home/home_page.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/pages/home/home_page.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/pages/menu/menu_page.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/pages/menu/menu_page.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/pages/pay_page.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/pages/map/pay_page.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/pages/product_page.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/pages/product_page.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/widgets/menu/ingredient.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/widgets/product_page/ingredient.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/ui/widgets/sheets/receiving_sheet.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/ui/widgets/sheets/receiving_sheet.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/lib/utils/app_colors.dart\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/lib/utils/app_colors.dart\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/pubspec.yaml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/pubspec.yaml\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"ExternalProjectsManager\">\n    <system id=\"GRADLE\">\n      <state>\n        <projects_view>\n          <tree_state>\n            <expand />\n            <select />\n          </tree_state>\n        </projects_view>\n      </state>\n    </system>\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"CMakeLists.txt\" />\n        <option value=\"Dart File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2MYAc7vx2liQdR3QVQucoN5ZYVY\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\n  <component name=\"ProjectView\">\n    <navigator currentView=\"ProjectPane\" proportions=\"\" version=\"1\" />\n    <panes>\n      <pane id=\"ProjectPane\">\n        <option name=\"show-excluded-files\" value=\"false\" />\n      </pane>\n    </panes>\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;AnalyzeApkAction.lastApkPath&quot;: &quot;/Users/tw0ch/Documents/GitHub/mobile-app/build/app/outputs/flutter-apk/app-debug.apk&quot;,\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.cidr.known.project.marker&quot;: &quot;true&quot;,\n    &quot;cidr.known.project.marker&quot;: &quot;true&quot;,\n    &quot;dart.analysis.tool.window.visible&quot;: &quot;false&quot;,\n    &quot;io.flutter.reload.alreadyRun&quot;: &quot;true&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/Users/mindykfam/Desktop/Developer/Medvezhi-ugol/mobile-app&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;dart.settings&quot;,\n    &quot;show.migrate.to.gradle.popup&quot;: &quot;false&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"C:\\Users\\yarin\\StudioProjects\\mobile-app\\assets\\images\\more_page\" />\n      <recent name=\"C:\\Users\\yarin\\StudioProjects\\mobile-app\\assets\\images\\home_page\" />\n      <recent name=\"$PROJECT_DIR$/assets/images/home_page\" />\n      <recent name=\"$PROJECT_DIR$/lib/widgets\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/lib/ui/widgets/menu\" />\n      <recent name=\"$PROJECT_DIR$/lib/ui/widgets/product_page\" />\n      <recent name=\"$PROJECT_DIR$/lib/ui/pages/map\" />\n      <recent name=\"$PROJECT_DIR$/assets/images\" />\n      <recent name=\"$PROJECT_DIR$/lib/ui/pages\" />\n    </key>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"97ab48ef-6c5e-4c65-86a9-9c8a0f8cfe9a\" name=\"Changes\" comment=\"\" />\n      <created>1677934220958</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1677934220958</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"Предыдущая лотерея\">\n      <created>1685039103661</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685039103661</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"Акции и комбо (контейнер)\">\n      <created>1685293053028</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685293053028</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"Корзина\">\n      <created>1685390369105</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685390369105</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"Корзина\">\n      <created>1685476051191</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685476051191</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"Корзина\">\n      <created>1685885513225</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685885513225</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"Корзина\">\n      <created>1685885601277</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685885601278</updated>\n    </task>\n    <task id=\"LOCAL-00014\" summary=\"Карточка товара\">\n      <created>1685888848057</created>\n      <option name=\"number\" value=\"00014\" />\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685888848057</updated>\n    </task>\n    <task id=\"LOCAL-00015\" summary=\"Карточка товара\">\n      <created>1685895050576</created>\n      <option name=\"number\" value=\"00015\" />\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685895050576</updated>\n    </task>\n    <task id=\"LOCAL-00016\" summary=\"Карточка товара\">\n      <created>1685898477950</created>\n      <option name=\"number\" value=\"00016\" />\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685898477950</updated>\n    </task>\n    <task id=\"LOCAL-00017\" summary=\"Карточка товара\">\n      <created>1685909899873</created>\n      <option name=\"number\" value=\"00017\" />\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685909899873</updated>\n    </task>\n    <task id=\"LOCAL-00018\" summary=\"Карточка товара\">\n      <created>1685912214115</created>\n      <option name=\"number\" value=\"00018\" />\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685912214115</updated>\n    </task>\n    <task id=\"LOCAL-00019\" summary=\"Карточка товара\">\n      <created>1685912631156</created>\n      <option name=\"number\" value=\"00019\" />\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1685912631156</updated>\n    </task>\n    <task id=\"LOCAL-00020\" summary=\"basket\">\n      <created>1687368221891</created>\n      <option name=\"number\" value=\"00020\" />\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687368221891</updated>\n    </task>\n    <task id=\"LOCAL-00021\" summary=\"basket\">\n      <created>1687368304569</created>\n      <option name=\"number\" value=\"00021\" />\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687368304569</updated>\n    </task>\n    <task id=\"LOCAL-00022\" summary=\"basket\">\n      <created>1687377998410</created>\n      <option name=\"number\" value=\"00022\" />\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687377998410</updated>\n    </task>\n    <task id=\"LOCAL-00023\" summary=\"basket\">\n      <created>1687378929387</created>\n      <option name=\"number\" value=\"00023\" />\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687378929387</updated>\n    </task>\n    <task id=\"LOCAL-00024\" summary=\"basket\">\n      <created>1687446373660</created>\n      <option name=\"number\" value=\"00024\" />\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687446373660</updated>\n    </task>\n    <task id=\"LOCAL-00025\" summary=\"basket\">\n      <created>1687459753678</created>\n      <option name=\"number\" value=\"00025\" />\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687459753678</updated>\n    </task>\n    <task id=\"LOCAL-00026\" summary=\"fix base url\">\n      <created>1687909989432</created>\n      <option name=\"number\" value=\"00026\" />\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687909989432</updated>\n    </task>\n    <task id=\"LOCAL-00027\" summary=\"fix base url\">\n      <created>1687973584288</created>\n      <option name=\"number\" value=\"00027\" />\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687973584288</updated>\n    </task>\n    <task id=\"LOCAL-00028\" summary=\"fix base url\">\n      <created>1687973983559</created>\n      <option name=\"number\" value=\"00028\" />\n      <option name=\"presentableId\" value=\"LOCAL-00028\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1687973983559</updated>\n    </task>\n    <task id=\"LOCAL-00029\" summary=\"fix product page\">\n      <created>1688037132031</created>\n      <option name=\"number\" value=\"00029\" />\n      <option name=\"presentableId\" value=\"LOCAL-00029\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688037132031</updated>\n    </task>\n    <task id=\"LOCAL-00030\" summary=\"fix base url\">\n      <created>1688321990807</created>\n      <option name=\"number\" value=\"00030\" />\n      <option name=\"presentableId\" value=\"LOCAL-00030\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688321990807</updated>\n    </task>\n    <task id=\"LOCAL-00031\" summary=\"fix base url\">\n      <created>1688327302043</created>\n      <option name=\"number\" value=\"00031\" />\n      <option name=\"presentableId\" value=\"LOCAL-00031\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688327302043</updated>\n    </task>\n    <task id=\"LOCAL-00032\" summary=\"fix base url\">\n      <created>1688328066363</created>\n      <option name=\"number\" value=\"00032\" />\n      <option name=\"presentableId\" value=\"LOCAL-00032\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688328066363</updated>\n    </task>\n    <task id=\"LOCAL-00033\" summary=\"fix base url\">\n      <created>1688408312896</created>\n      <option name=\"number\" value=\"00033\" />\n      <option name=\"presentableId\" value=\"LOCAL-00033\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1688408312896</updated>\n    </task>\n    <task id=\"LOCAL-00034\" summary=\"fix base url\">\n      <created>1689197231935</created>\n      <option name=\"number\" value=\"00034\" />\n      <option name=\"presentableId\" value=\"LOCAL-00034\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689197231937</updated>\n    </task>\n    <task id=\"LOCAL-00035\" summary=\"fix base url\">\n      <created>1689197297832</created>\n      <option name=\"number\" value=\"00035\" />\n      <option name=\"presentableId\" value=\"LOCAL-00035\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689197297832</updated>\n    </task>\n    <task id=\"LOCAL-00036\" summary=\"fix base url\">\n      <created>1689362955812</created>\n      <option name=\"number\" value=\"00036\" />\n      <option name=\"presentableId\" value=\"LOCAL-00036\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689362955812</updated>\n    </task>\n    <task id=\"LOCAL-00037\" summary=\"fix basket navigation\">\n      <created>1689611048320</created>\n      <option name=\"number\" value=\"00037\" />\n      <option name=\"presentableId\" value=\"LOCAL-00037\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689611048320</updated>\n    </task>\n    <task id=\"LOCAL-00038\" summary=\"fix base url\">\n      <created>1689624453806</created>\n      <option name=\"number\" value=\"00038\" />\n      <option name=\"presentableId\" value=\"LOCAL-00038\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689624453807</updated>\n    </task>\n    <task id=\"LOCAL-00039\" summary=\"fix base url\">\n      <created>1689625074682</created>\n      <option name=\"number\" value=\"00039\" />\n      <option name=\"presentableId\" value=\"LOCAL-00039\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689625074682</updated>\n    </task>\n    <task id=\"LOCAL-00040\" summary=\"Акции done\">\n      <created>1689960688139</created>\n      <option name=\"number\" value=\"00040\" />\n      <option name=\"presentableId\" value=\"LOCAL-00040\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689960688139</updated>\n    </task>\n    <task id=\"LOCAL-00041\" summary=\"Акции done\">\n      <created>1689961789948</created>\n      <option name=\"number\" value=\"00041\" />\n      <option name=\"presentableId\" value=\"LOCAL-00041\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689961789948</updated>\n    </task>\n    <task id=\"LOCAL-00042\" summary=\"Акции done\">\n      <created>1689964511224</created>\n      <option name=\"number\" value=\"00042\" />\n      <option name=\"presentableId\" value=\"LOCAL-00042\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689964511224</updated>\n    </task>\n    <task id=\"LOCAL-00043\" summary=\"Акции done\">\n      <created>1689965203771</created>\n      <option name=\"number\" value=\"00043\" />\n      <option name=\"presentableId\" value=\"LOCAL-00043\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689965203771</updated>\n    </task>\n    <task id=\"LOCAL-00044\" summary=\"Акции done\">\n      <created>1689968423065</created>\n      <option name=\"number\" value=\"00044\" />\n      <option name=\"presentableId\" value=\"LOCAL-00044\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689968423065</updated>\n    </task>\n    <task id=\"LOCAL-00045\" summary=\"Акции done\">\n      <created>1689968534757</created>\n      <option name=\"number\" value=\"00045\" />\n      <option name=\"presentableId\" value=\"LOCAL-00045\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1689968534757</updated>\n    </task>\n    <task id=\"LOCAL-00046\" summary=\"Условия доставик update\">\n      <created>1690132213371</created>\n      <option name=\"number\" value=\"00046\" />\n      <option name=\"presentableId\" value=\"LOCAL-00046\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690132213371</updated>\n    </task>\n    <task id=\"LOCAL-00047\" summary=\"Условия доставик update\">\n      <created>1690132602236</created>\n      <option name=\"number\" value=\"00047\" />\n      <option name=\"presentableId\" value=\"LOCAL-00047\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690132602236</updated>\n    </task>\n    <task id=\"LOCAL-00048\" summary=\"Условия доставик update\">\n      <created>1690225102206</created>\n      <option name=\"number\" value=\"00048\" />\n      <option name=\"presentableId\" value=\"LOCAL-00048\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690225102206</updated>\n    </task>\n    <task id=\"LOCAL-00049\" summary=\"add payment\">\n      <created>1690303331717</created>\n      <option name=\"number\" value=\"00049\" />\n      <option name=\"presentableId\" value=\"LOCAL-00049\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690303331718</updated>\n    </task>\n    <task id=\"LOCAL-00050\" summary=\"Условия доставик update\">\n      <created>1690399089540</created>\n      <option name=\"number\" value=\"00050\" />\n      <option name=\"presentableId\" value=\"LOCAL-00050\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690399089540</updated>\n    </task>\n    <task id=\"LOCAL-00051\" summary=\"add drum\">\n      <created>1690671549101</created>\n      <option name=\"number\" value=\"00051\" />\n      <option name=\"presentableId\" value=\"LOCAL-00051\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690671549101</updated>\n    </task>\n    <task id=\"LOCAL-00052\" summary=\"fix auth\">\n      <created>1690717179261</created>\n      <option name=\"number\" value=\"00052\" />\n      <option name=\"presentableId\" value=\"LOCAL-00052\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1690717179261</updated>\n    </task>\n    <task id=\"LOCAL-00053\" summary=\"fix cocoapods\">\n      <created>1692274926784</created>\n      <option name=\"number\" value=\"00053\" />\n      <option name=\"presentableId\" value=\"LOCAL-00053\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1692274926785</updated>\n    </task>\n    <task id=\"LOCAL-00054\" summary=\"fix android\">\n      <created>1692275426973</created>\n      <option name=\"number\" value=\"00054\" />\n      <option name=\"presentableId\" value=\"LOCAL-00054\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1692275426973</updated>\n    </task>\n    <task id=\"LOCAL-00055\" summary=\"fix ios\">\n      <created>1692275439785</created>\n      <option name=\"number\" value=\"00055\" />\n      <option name=\"presentableId\" value=\"LOCAL-00055\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1692275439785</updated>\n    </task>\n    <task id=\"LOCAL-00056\" summary=\"fix map\">\n      <created>1692296764073</created>\n      <option name=\"number\" value=\"00056\" />\n      <option name=\"presentableId\" value=\"LOCAL-00056\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1692296764073</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"57\" />\n    <servers />\n  </component>\n  <component name=\"ToolWindowManager\">\n    <editor active=\"true\" />\n    <layout>\n      <window_info id=\"Project\" active=\"false\" anchor=\"left\" auto_hide=\"false\" internal_type=\"DOCKED\" type=\"DOCKED\" visible=\"true\" show_stripe_button=\"true\" weight=\"0.25\" sideWeight=\"0.5\" order=\"0\" side_tool=\"false\" content_ui=\"combo\" />\n    </layout>\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"Скрыть кнопки &quot;доставка и самовывоз&quot; из меню заведения и адрес\" />\n    <MESSAGE value=\"Штрих код\" />\n    <MESSAGE value=\"Fix icons\" />\n    <MESSAGE value=\"Розыгрыш\" />\n    <MESSAGE value=\"Страница розыгрыша\" />\n    <MESSAGE value=\"Предыдущая лотерея\" />\n    <MESSAGE value=\"Акции и комбо (контейнер)\" />\n    <MESSAGE value=\"Корзина\" />\n    <MESSAGE value=\"Карточка товара\" />\n    <MESSAGE value=\"basket\" />\n    <MESSAGE value=\"fix product page\" />\n    <MESSAGE value=\"fix basket navigation\" />\n    <MESSAGE value=\"fix base url\" />\n    <MESSAGE value=\"Акции done\" />\n    <MESSAGE value=\"add payment\" />\n    <MESSAGE value=\"Условия доставик update\" />\n    <MESSAGE value=\"add drum\" />\n    <MESSAGE value=\"fix auth\" />\n    <MESSAGE value=\"fix cocoapods\" />\n    <MESSAGE value=\"fix android\" />\n    <MESSAGE value=\"fix ios\" />\n    <MESSAGE value=\"fix map\" />\n    <MESSAGE value=\"fix menu page\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"fix menu page\" />\n  </component>\n  <component name=\"XDebuggerManager\">\n    <breakpoint-manager>\n      <breakpoints>\n        <line-breakpoint enabled=\"true\" type=\"Dart\">\n          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/history_draw.dart</url>\n          <line>227</line>\n          <option name=\"timeStamp\" value=\"5\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"Dart\">\n          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/Leto.dart</url>\n          <line>219</line>\n          <option name=\"timeStamp\" value=\"16\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" type=\"Dart\">\n          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/Leto.dart</url>\n          <line>186</line>\n          <option name=\"timeStamp\" value=\"17\" />\n        </line-breakpoint>\n      </breakpoints>\n    </breakpoint-manager>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 72eaf9786befafe50d9ec7d7922bccc3321b7861)
+++ b/.idea/workspace.xml	(date 1694452914421)
@@ -9,31 +9,10 @@
     <option name="autoReloadType" value="NONE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="97ab48ef-6c5e-4c65-86a9-9c8a0f8cfe9a" name="Changes" comment="fix menu page">
-      <change afterPath="$PROJECT_DIR$/lib/ui/widgets/menu/my_address.dart" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/lib/ui/widgets/product_page/additional_product.dart" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/lib/ui/widgets/product_page/additional_products.dart" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/lib/ui/widgets/product_page/product_size.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Dart_Packages.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Dart_Packages.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Flutter_Plugins.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Flutter_Plugins.xml" afterDir="false" />
+    <list default="true" id="97ab48ef-6c5e-4c65-86a9-9c8a0f8cfe9a" name="Changes" comment="add address">
+      <change afterPath="$PROJECT_DIR$/lib/ui/pages/map/search_page.dart" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/pages/custom_navbar/bloc/custom_navbar_cubit.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/pages/custom_navbar/bloc/custom_navbar_cubit.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/pages/menu/menu_page/bloc/menu_bloc.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/pages/menu/menu_page/bloc/menu_bloc.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/services/api_service.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/services/api_service.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/services/menu_service.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/services/menu_service.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/menu/menu_card_widget.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/widgets/menu/menu_card_widget.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/menu/menu_sections_widget.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/widgets/menu/menu_sections_widget.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/menu/scale_tabbar_module.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/widgets/menu/scale_tabbar_module.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/pages/delivery_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/delivery_page.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/pages/home/home_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/home/home_page.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/pages/menu/menu_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/menu/menu_page.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/pages/pay_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/map/pay_page.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/pages/product_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/product_page.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/widgets/menu/ingredient.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/widgets/product_page/ingredient.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/ui/widgets/sheets/receiving_sheet.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/widgets/sheets/receiving_sheet.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/lib/utils/app_colors.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/utils/app_colors.dart" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/pubspec.yaml" beforeDir="false" afterPath="$PROJECT_DIR$/pubspec.yaml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/lib/ui/pages/map/map_page.dart" beforeDir="false" afterPath="$PROJECT_DIR$/lib/ui/pages/map/map_page.dart" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -80,26 +59,27 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;AnalyzeApkAction.lastApkPath&quot;: &quot;/Users/tw0ch/Documents/GitHub/mobile-app/build/app/outputs/flutter-apk/app-debug.apk&quot;,
-    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.cidr.known.project.marker&quot;: &quot;true&quot;,
-    &quot;cidr.known.project.marker&quot;: &quot;true&quot;,
-    &quot;dart.analysis.tool.window.visible&quot;: &quot;false&quot;,
-    &quot;io.flutter.reload.alreadyRun&quot;: &quot;true&quot;,
-    &quot;last_opened_file_path&quot;: &quot;/Users/mindykfam/Desktop/Developer/Medvezhi-ugol/mobile-app&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;dart.settings&quot;,
-    &quot;show.migrate.to.gradle.popup&quot;: &quot;false&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "AnalyzeApkAction.lastApkPath": "/Users/tw0ch/Documents/GitHub/mobile-app/build/app/outputs/flutter-apk/app-debug.apk",
+    "RunOnceActivity.OpenProjectViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.cidr.known.project.marker": "true",
+    "cidr.known.project.marker": "true",
+    "dart.analysis.tool.window.visible": "false",
+    "io.flutter.reload.alreadyRun": "true",
+    "last_opened_file_path": "/Users/mindykfam/Desktop/Branches/Bearcorner/mobile-app/assets/images",
+    "settings.editor.selected.configurable": "dart.settings",
+    "show.migrate.to.gradle.popup": "false"
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
+      <recent name="$PROJECT_DIR$/assets/images" />
+      <recent name="$PROJECT_DIR$" />
       <recent name="C:\Users\yarin\StudioProjects\mobile-app\assets\images\more_page" />
       <recent name="C:\Users\yarin\StudioProjects\mobile-app\assets\images\home_page" />
       <recent name="$PROJECT_DIR$/assets/images/home_page" />
-      <recent name="$PROJECT_DIR$/lib/widgets" />
     </key>
     <key name="MoveFile.RECENT_KEYS">
       <recent name="$PROJECT_DIR$/lib/ui/widgets/menu" />
@@ -117,13 +97,6 @@
       <option name="number" value="Default" />
       <option name="presentableId" value="Default" />
       <updated>1677934220958</updated>
-    </task>
-    <task id="LOCAL-00008" summary="Предыдущая лотерея">
-      <created>1685039103661</created>
-      <option name="number" value="00008" />
-      <option name="presentableId" value="LOCAL-00008" />
-      <option name="project" value="LOCAL" />
-      <updated>1685039103661</updated>
     </task>
     <task id="LOCAL-00009" summary="Акции и комбо (контейнер)">
       <created>1685293053028</created>
@@ -461,7 +434,14 @@
       <option name="project" value="LOCAL" />
       <updated>1692296764073</updated>
     </task>
-    <option name="localTasksCounter" value="57" />
+    <task id="LOCAL-00057" summary="add address">
+      <created>1694452328809</created>
+      <option name="number" value="00057" />
+      <option name="presentableId" value="LOCAL-00057" />
+      <option name="project" value="LOCAL" />
+      <updated>1694452328809</updated>
+    </task>
+    <option name="localTasksCounter" value="58" />
     <servers />
   </component>
   <component name="ToolWindowManager">
@@ -505,27 +485,7 @@
     <MESSAGE value="fix ios" />
     <MESSAGE value="fix map" />
     <MESSAGE value="fix menu page" />
-    <option name="LAST_COMMIT_MESSAGE" value="fix menu page" />
-  </component>
-  <component name="XDebuggerManager">
-    <breakpoint-manager>
-      <breakpoints>
-        <line-breakpoint enabled="true" type="Dart">
-          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/history_draw.dart</url>
-          <line>227</line>
-          <option name="timeStamp" value="5" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="Dart">
-          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/Leto.dart</url>
-          <line>219</line>
-          <option name="timeStamp" value="16" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="Dart">
-          <url>file://$PROJECT_DIR$/lib/pages/discounts/discounts_page/Leto.dart</url>
-          <line>186</line>
-          <option name="timeStamp" value="17" />
-        </line-breakpoint>
-      </breakpoints>
-    </breakpoint-manager>
+    <MESSAGE value="add address" />
+    <option name="LAST_COMMIT_MESSAGE" value="add address" />
   </component>
 </project>
\ No newline at end of file
